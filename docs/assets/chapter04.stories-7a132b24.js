import{i as h,p as u}from"./common-59d4c3ce.js";import"./_commonjsHelpers-725317a4.js";const H=()=>(h("らせんの描画"),globalP5Instance=new u(e=>{let r=0;const c=2*e.PI*.01,n=l=>5*l;e.setup=()=>{e.createCanvas(500,500)},e.draw=()=>{e.translate(e.width/2,e.height/2),e.line(n(r)*e.cos(r),n(r)*e.sin(r),n(r+c)*e.cos(r+c),n(r+c)*e.sin(r+c)),r+=c}}),""),M=()=>(h("対数らせんの拡大"),globalP5Instance=new u(e=>{const r=2*e.PI*.01,c=l=>e.pow(1.1,l),n=()=>{let l=0;const s=e.pow(10,e.mouseX/e.width)*e.height/2;e.translate(e.width/2,e.height/2);for(let t=0;t<2e3;t++)e.line(s*c(l)*e.cos(l),s*c(l)*e.sin(l),s*c(l+r)*e.cos(l+r),s*c(l+r)*e.sin(l+r)),l-=r};e.setup=()=>{e.createCanvas(500,500),e.colorMode("hsb",1)},e.draw=()=>{e.background(1,0,1),n()}}),""),N=()=>(h("正方形の再帰的な描画"),globalP5Instance=new u(e=>{let r,c=.01;const n=s=>{for(let t=0;t<4;t++)e.line(s[t].x,s[t].y,s[(t+1)%4].x,s[(t+1)%4].y)},l=s=>{const t=e.createVector(4);for(let a=0;a<4;a++){const o=u.Vector.sub(s[(a+1)%4],s[a]);o.mult(c),t[a]=u.Vector.add(s[a],o)}return t};e.setup=()=>{e.createCanvas(500,500),r=e.createVector(4),r[0]=e.createVector(0,0),r[1]=e.createVector(e.width,0),r[2]=e.createVector(e.width,e.height),r[3]=e.createVector(0,e.height),console.log({vec:r})},e.draw=()=>{n(r),r=l(r)},e.mouseClicked=()=>{e.background(255),c=e.random(1)/2,console.log("gap =",c),r[0]=e.createVector(0,0),r[1]=e.createVector(e.width,0),r[2]=e.createVector(e.width,e.height),r[3]=e.createVector(0,e.height)}}),""),X=()=>(h("正方形の再帰的な描画と対数らせん"),globalP5Instance=new u(e=>{let r,c=.2;const n=()=>{const t=2*e.PI*.001;let a=e.sqrt(2*c*c-2*c+1),o=e.atan(c/(1-c));const i=e.createVector(e.width/2,e.height/2);let d=e.createVector(0,0);for(d.sub(i),e.translate(i.x,i.y),e.stroke(e.color(255,0,0)),e.strokeWeight(3);d.mag()>1;){const g=d.copy();g.rotate(t),g.mult(e.pow(a,t/o)),e.line(d.x,d.y,g.x,g.y),d=g}},l=t=>{for(let a=0;a<4;a++)e.line(t[a].x,t[a].y,t[(a+1)%4].x,t[(a+1)%4].y)},s=t=>{const a=e.createVector(4);for(let o=0;o<4;o++){const i=u.Vector.sub(t[(o+1)%4],t[o]);i.mult(c),a[o]=u.Vector.add(t[o],i)}return a};e.setup=()=>{e.createCanvas(500,500),r=e.createVector(4),r[0]=e.createVector(0,0),r[1]=e.createVector(e.width,0),r[2]=e.createVector(e.width,e.height),r[3]=e.createVector(0,e.height),n()},e.draw=()=>{e.stroke(0),e.strokeWeight(1),l(r),r=s(r)},e.mouseClicked=()=>{e.background(255),c=e.random(1)/2,n(),r[0]=e.createVector(0,0),r[1]=e.createVector(e.width,0),r[2]=e.createVector(e.width,e.height),r[3]=e.createVector(0,e.height),console.log("gap =",c)}}),""),j=()=>(h("多角形の再帰的な描画"),globalP5Instance=new u(e=>{let r,c=.1,n=8;const l=t=>{for(let a=0;a<n;a++)e.line(t[a].x,t[a].y,t[(a+1)%n].x,t[(a+1)%n].y)},s=t=>{const a=e.createVector(n);for(let o=0;o<n;o++){const i=u.Vector.sub(t[(o+1)%n],t[o]);i.mult(c),a[o]=u.Vector.add(t[o],i)}return a};e.setup=()=>{e.createCanvas(500,500),r=e.createVector(n);for(let t=0;t<n;t++)r[t]=u.Vector.fromAngle(2*t*e.PI/n),r[t].mult(e.width/2)},e.draw=()=>{e.translate(e.width/2,e.height/2),l(r),r=s(r)},e.mouseClicked=()=>{c=e.random(1)/2,n=e.int(e.random(4,16)),e.background(255),r=e.createVector(n);for(let t=0;t<n;t++)r[t]=u.Vector.fromAngle(2*t*e.PI/n),r[t].mult(e.width/2)}}),""),z=()=>(h("黄金らせんとフィボナッチらせん"),globalP5Instance=new u(e=>{let r=[0,1,1];const c=[-1,1,1,-1],n=()=>{let s=0,t=0,a=e.width/(2*r[r.length-1]);for(let o=1;o<r.length-1;o++)e.rect(a*s,a*t,a*c[(o+1)%4]*r[o],a*c[o%4]*r[o]),e.arc(a*(s+c[(o+1)%4]*r[o]),a*(t+c[o%4]*r[o]),a*2*r[o],a*2*r[o],(1+o)*e.PI/2,(2+o)*e.PI/2),o%2==1?s+=c[o%4]*(r[o]+r[o+1]):t+=c[o%4]*(r[o]+r[o+1])},l=()=>{const s=e.width/(2*r[r.length-1]),t=(1+e.sqrt(5))/2,a=-e.PI/50,o=e.createVector(1,1);let i=e.createVector(0,1);for(let d=1;d<r.length-1;d++)i.add(c[d%4]*r[d],c[(d-1)%4]*r[d]);i.sub(o),i.mult(s),e.translate(s,s);for(let d=0;d<(r.length-2)*25;d++){const g=i.copy();g.rotate(a),g.mult(e.pow(t,2*a/e.PI)),e.line(i.x,i.y,g.x,g.y),i=g}};e.setup=()=>{e.createCanvas(500,500),e.translate(e.width/2,e.height/2),e.stroke(0),n(),e.stroke(255,0,0),l()},e.draw=()=>{},e.mouseClicked=()=>{e.background(255);const s=r[r.length-2]+r[r.length-1];r=e.append(r,s),e.translate(e.width/2,e.height/2),e.stroke(0),n(),e.stroke(255,0,0),l(),console.log(s)}}),""),J={title:"Chapter04：対数らせん"},m={render:H},w={render:M},V={render:N},S={render:X},P={render:j},b={render:z};var x,y,f;m.parameters={...m.parameters,docs:{...(x=m.parameters)==null?void 0:x.docs,source:{originalSource:`{
  render: spiral
}`,...(f=(y=m.parameters)==null?void 0:y.docs)==null?void 0:f.source}}};var k,I,_;w.parameters={...w.parameters,docs:{...(k=w.parameters)==null?void 0:k.docs,source:{originalSource:`{
  render: logSpiralZoom
}`,...(_=(I=w.parameters)==null?void 0:I.docs)==null?void 0:_.source}}};var q,C,F;V.parameters={...V.parameters,docs:{...(q=V.parameters)==null?void 0:q.docs,source:{originalSource:`{
  render: recurSquare
}`,...(F=(C=V.parameters)==null?void 0:C.docs)==null?void 0:F.source}}};var R,E,G;S.parameters={...S.parameters,docs:{...(R=S.parameters)==null?void 0:R.docs,source:{originalSource:`{
  render: recurSquareSpiral
}`,...(G=(E=S.parameters)==null?void 0:E.docs)==null?void 0:G.source}}};var L,T,Z;P.parameters={...P.parameters,docs:{...(L=P.parameters)==null?void 0:L.docs,source:{originalSource:`{
  render: recurPolygon
}`,...(Z=(T=P.parameters)==null?void 0:T.docs)==null?void 0:Z.source}}};var O,A,W;b.parameters={...b.parameters,docs:{...(O=b.parameters)==null?void 0:O.docs,source:{originalSource:`{
  render: goldFiboSpiral
}`,...(W=(A=b.parameters)==null?void 0:A.docs)==null?void 0:W.source}}};const K=["Spiral","LogSpiralZoom","RecurSquare","RecurSquareSpiral","RecurPolygon","GoldFiboSpiral"];export{b as GoldFiboSpiral,w as LogSpiralZoom,P as RecurPolygon,V as RecurSquare,S as RecurSquareSpiral,m as Spiral,K as __namedExportsOrder,J as default};
//# sourceMappingURL=chapter04.stories-7a132b24.js.map
